---
layout: post
title: 关于青空文庫格式及其他
categories:
- 计算机技术
tags:
- 互联网
- 日本
- 读书
published: true
comments: true
---
<p>本人一直坚信简单文字排版之类的事完全没必要交给人来做，因此找到好的方法和工具就很重要。其最理想的境界就是用简单的语法在纯文本搞定一切。对于小说之类的，必也有适合的方法。最近有幸接触日文圈，就发现了名为“青空文庫”的神级存在。<!--more--></p>

<p><a title="青空文庫" href="http://www.aozora.gr.jp/" target="_blank">青空文庫</a>是收集无版权问题的著作（例如版权过期）并公开的网站，类似于古登堡计划。在整理文献的过程中为了统一格式，且照顾日文排版的特殊需要，特别是振り仮名，设计了一套专门的语法。语法本身并不复杂，而且用户友好，因此即使是未经转换的txt也具有可读性。在<a title="注記一覧" href="http://www.aozora.gr.jp/annotation/" target="_blank">《注記一覧》</a>中可以看到全部的语法。由于其规范性和严谨性，使得程序自动识别处理成为可能，于是程序能够将其转换为xhtml文件在浏览器上排版成书籍的样子，在纯文本中被书名号扩起来的振り仮名全部归位。</p>

<p>不得不说日本人对于小说阅读体验的要求还是很苛刻的，这个文学大国的人喜欢竖排，于是设计了不少工具，如Chrome浏览器插件“青空縦書きリーダー”、“縦書青空”，epub或mobi或pdf的转换器“AozoraEpub”（java）、“ChainLP”（.NET）等等。下面就来简单介绍一下。</p>

<p>青空縦書きリーダー允许在青空文庫官网的阅读页面上使用，而縦書青空理论上可以在任何网站的页面使用。前者对于傍点的支持似乎不太好，但显示出来的页面可以用浏览器打印为pdf。打印的结果看起来还不错，可是有些设备似乎不支持显示，如iriver Story HD。重点讨论后者。縦書青空不能在谷歌的商店中找到，而需要先下载到插件文件，然后“拖进谷歌的插件管理页面”手动安装。之所以如此麻烦是因为2014年1月开始谷歌浏览器不再允许在网页上直接安装来源不明的插件。对于后者，设置完字体（最好是IPAexMincho或IPAexGothic）后我抱着试试看的心态转换了一下各种网页，发现日文网页基本没问题，但中文网页一塌糊涂，应该是日文字符集中没有许多中文简体汉字的缘故。</p>

<p>AozoraEpub和ChainLP之类的软件使用时都需要注意一下编码要求，Shift_JIS为多，不过UTF-8也并非没有。AozoraEpub需要Java Runtime Environment（JRE）。用它制作出来的epub（mobi）据说在kindle上可以使用，但似乎其他设备、软件的支持都不怎么好，可能是因为这种样式的定义实在是太非主流了。iOS上iBooks可以打开和阅读，但载入速度奇慢。其他软件如多看、Stanza基本崩溃。Linux上常见的Epub阅读器calibre等也基本看不了。在此推荐ChainLP，用它转换pdf一切正常，还可以调整许多设置，字号、页面大小之类的都不在话下。理论上也可以转换epub、mobi等，实际上我没试过，不知道。缺点就是需要Windows。</p>

<p>其实Linux上也可以使用官网上推荐的一个Air程序阅读器，但Adobe Air在Linux的支持早就没了，而且在64位系统上的安装极度变态，我多次以失败告终。另外的一些阅读器感觉都是年代物了，没把握如今还能正常使用。当然也有一些收费的，效果如何我也没试过，估计还不错。</p>

<p>目前来看青空文庫格式还是被广泛使用的，除了青空文庫上的作品，某些从其他途径录入传播的小说也不约而同地采用了这一标准，甚至一些中文小说也开始尝试使用青空文庫格式。不过书名号的问题似乎没能解决，因为简体中文的文档本身有时需要使用书名号。除了上文提及的事物，关于青空文庫格式还有各种各样许许多多的奥秘，大家自己去发现吧。</p>

<p>最后总评：青空文庫格式及其生态圈内的各种软件称得上是解放生产力的发明。</p>
